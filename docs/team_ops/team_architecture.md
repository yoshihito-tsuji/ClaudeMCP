# チームアーキテクチャ

Embodied Claude の三者協働（Yoshihitoさん / Codex / Claude Code）の役割分担と意思決定フローを明文化します。
この文書は `docs/team_ops/triad_collaboration.md` の補助資料として位置付けます。

---

## 1. 役割と責務

### Yoshihitoさん（プロジェクトオーナー / 最終判断）

- プロジェクトの目的・利用シーンの定義
- UI/UXの最終判断
- リリース可否・配布方針の決定
- 重要な仕様変更の承認

### Codex（設計・アーキテクチャ）

- 上流設計、要件整理、受け入れ基準の明文化
- 仕様の整合性・トレーサビリティの担保
- 重大な設計変更の提案とリスク評価
- LOG/DECISIONSへの記録方針の提案
- MCP サーバー間のアーキテクチャ整合性の確保

### Claude Code（実装）

- 実装・テスト・リリース作業の主担当
- 実装上の課題・制約のフィードバック
- コードレビュー観点の指摘（必要時）
- 実装結果のLOG記録

---

## 2. 意思決定フロー

```text
1. 課題/要望の明確化（Yoshihitoさん）
       ↓
2. 設計提案と影響整理（Codex）
       ↓
3. 実装方針・見積もり共有（Claude Code）
       ↓
4. 最終判断（Yoshihitoさん）
       ↓
5. 記録
   - 作業記録: LOG/YYYY-MM-DD.md に記載
   - 重要決定: DECISIONS.md に転記
```

### 意思決定優先順位

1. **Yoshihitoさんの意図・要望**（最優先）
2. Codexのアーキテクチャ・設計方針
3. 技術的なベストプラクティス

---

## 3. コミュニケーションルール

- 日本語で記述（専門用語には日本語補足を付与）
- AIの発言は必ず `From: / To:` 形式
- 対話の要点は当日LOGへ転記

詳細は `docs/team_ops/triad_collaboration.md` を参照。

---

## 4. ドキュメントの役割

| ドキュメント | 役割 |
| --- | --- |
| `README.md` | 全体概要・必須手順 |
| `CLAUDE.md` | Claude Code プロジェクト指示 |
| `AGENTS.md` | リポジトリガイドライン |
| `LOG/YYYY-MM-DD.md` | 日次の活動記録 |
| `DECISIONS.md` | 重要な確定事項 |
| `docs/team_ops/` | チーム運用ドキュメント |

---

## 5. 相談・エスカレーションの基準

以下に該当する場合、CodexはYoshihitoさんへ確認し、Claude Codeへ連携します。

- 仕様の前提が曖昧な場合
- 既存仕様との整合性が取れない場合
- セキュリティに影響するMCPツールの変更
- ハードウェア制御ロジックに関する変更
- 記憶システム（memory-mcp）のデータ構造変更
- リリース方針に影響する変更

---

## 6. 更新ルール

- 本文書の更新は三者合意を前提とする
- 更新時は `LOG/YYYY-MM-DD.md` に記録する

---

**作成日**: 2026-02-06
**作成者**: Claude Code
